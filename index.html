<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chúc Mừng Năm Mới 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        /* --- CẤU HÌNH CƠ BẢN --- */
        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Great Vibes', cursive;
            cursor: none;
            /* Ẩn chuột để hiện hiệu ứng hạt */
        }

        #overlay {
            cursor: default;
        }

        /* --- VIDEO NỀN --- */
        #bg-video {
            position: fixed;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -1;
            transform: translateX(-50%) translateY(-50%);
            object-fit: cover;
        }

        /* --- MÀN HÌNH CHỜ --- */
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            transition: opacity 1s ease;
        }

        /* NÚT BẤM TRẮNG */
        #start-btn {
            padding: 15px 40px;
            font-size: 2rem;
            font-family: 'Great Vibes', cursive;
            background: transparent;
            color: #ffffff;
            border: 2px solid #ffffff;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 15px #ffffff;
            animation: pulse 2s infinite;
            transition: all 0.3s ease;
        }

        #start-btn:hover {
            background: #ffffff;
            color: #d60000;
            box-shadow: 0 0 30px #ffffff;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        /* --- HIỆU ỨNG HẠT LẤP LÁNH --- */
        .trail {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            pointer-events: none;
            box-shadow: 0 0 10px #ffd700;
            animation: sparkle 1s linear forwards;
            z-index: 9999;
        }

        @keyframes sparkle {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translate(0, 20px) scale(0);
            }
        }

        /* --- KHÔNG GIAN NỘI DUNG --- */
        .scene {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 2s ease;
        }

        .card {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            text-align: center;
        }

        h1 {
            font-size: 8rem;
            margin: 0 0 10px 0;
            color: #ff3333;
            text-shadow: none;
            animation: float 4s ease-in-out infinite;
        }

        .year {
            font-size: 4rem;
            color: #fff;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.8);
            margin-bottom: 20px;
        }

        #message-container {
            font-size: 2.5rem;
            line-height: 1.4;
            color: #ffffff;
            text-shadow: 2px 2px 4px #000, 0 0 10px rgba(0, 0, 0, 0.5);
            max-width: 800px;
            margin: 0 auto;
        }

        /* --- CSS CHO CHỮ BAY --- */
        .word {
            display: inline-block;
            margin-right: 10px;
            opacity: 0;
            /* Ẩn ban đầu */
            /* Thời gian bay về vị trí cũ: 1.5 giây, hiệu ứng chậm dần */
            transition: transform 1.5s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 1.5s ease;
            will-change: transform, opacity;
        }

        /* Khi có class visible, chữ sẽ về trạng thái bình thường */
        .word.visible {
            opacity: 1 !important;
            transform: translate(0, 0) rotate(0deg) scale(1) !important;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 3.5rem;
            }

            .year {
                font-size: 2rem;
            }

            #message-container {
                font-size: 1.8rem;
            }
        }
    </style>
</head>

<body>

    <video autoplay muted loop playsinline id="bg-video">
        <source src="video_nen.mp4" type="video/mp4">
    </video>

    <audio id="audioPlayer" loop>
        <source src="nhac_nen.mp3" type="audio/mp3">
    </audio>

    <div id="overlay">
        <button id="start-btn">Mở Thiệp Chúc Mừng Sinh Nhật</button>
    </div>

    <div class="scene" id="scene">
        <div class="card" id="card">
            <h1>Chúc Mừng Sinh Nhật</h1>
            <div class="year">Happy BirthDay to Trần Thị Thu Trang</div>
            <div id="message-container"></div>
        </div>
    </div>

    <script>
        const wishes = "Nhìn lại hành trình chúng mình đi cùng nhau, tớ thấy thật may mắn vì được làm bạn với cậu. Chúc cậu tuổi mới luôn giữ được nụ cười rạng rỡ và nguồn năng lượng tích cực như bây giờ. Mong rằng năm nay sẽ là một năm đột phá, nơi cậu có thể chạm tay đến tất cả những mục tiêu và hoài bão mà cậu từng kể với tớ. Đừng quên rằng, dù cuộc sống có đôi lúc mệt mỏi hay áp lực, cậu vẫn luôn có tớ sẵn sàng lắng nghe và ủng hộ vô điều kiện. Chúc cậu một ngày sinh nhật thật ấm áp, ngập tràn quà và những lời yêu thương chân thành nhất nhé!";

        const startBtn = document.getElementById('start-btn');
        const overlay = document.getElementById('overlay');
        const video = document.getElementById('bg-video');
        const audio = document.getElementById('audioPlayer');
        const sceneContainer = document.getElementById('scene');
        const container = document.getElementById('message-container');

        // --- BẤM NÚT ---
        startBtn.addEventListener('click', () => {
            video.muted = false;
            video.volume = 0.5;
            video.play().catch(e => console.log("Lỗi video: ", e));

            audio.volume = 1.0;
            audio.play().catch(e => console.log("Lỗi audio: ", e));

            overlay.style.opacity = '0';
            setTimeout(() => { overlay.style.display = 'none'; }, 1000);
            sceneContainer.style.opacity = '1';

            // Chờ 0.5s sau khi mở màn hình thì chữ bắt đầu bay về
            setTimeout(animateText, 500);
        });

        // --- XỬ LÝ CHỮ LỘN XỘN (CHAOS) ---
        const words = wishes.split(' ');
        words.forEach((word) => {
            const span = document.createElement('span');
            span.textContent = word;
            span.className = 'word';

            // TÍNH TOÁN VỊ TRÍ NGẪU NHIÊN
            // X: từ -500px đến +500px
            // Y: từ -500px đến +500px
            // Rotate: từ -180 độ đến +180 độ
            // Scale: Phóng to gấp 3 lần lúc đầu
            const randomX = Math.floor(Math.random() * 1000 - 500);
            const randomY = Math.floor(Math.random() * 1000 - 500);
            const randomRotate = Math.floor(Math.random() * 360 - 180);

            // Gán vị trí lộn xộn ngay lập tức
            span.style.transform = `translate(${randomX}px, ${randomY}px) rotate(${randomRotate}deg) scale(3)`;

            container.appendChild(span);
        });

        function animateText() {
            document.querySelectorAll('.word').forEach((span, index) => {
                // Từng chữ bay về với tốc độ cực nhanh nối đuôi nhau
                setTimeout(() => {
                    span.classList.add('visible');
                }, index * 150); // Mỗi chữ cách nhau 150ms
            });
        }

        // --- HIỆU ỨNG CHUỘT LẤP LÁNH ---
        document.addEventListener('mousemove', (e) => {
            createTrail(e.pageX, e.pageY);
        });

        function createTrail(x, y) {
            const trail = document.createElement('div');
            trail.className = 'trail';

            const offsetX = (Math.random() - 0.5) * 10;
            const offsetY = (Math.random() - 0.5) * 10;

            trail.style.left = (x + offsetX) + 'px';
            trail.style.top = (y + offsetY) + 'px';

            const colors = ['#ffd700', '#ffffff', '#ffeb3b'];
            trail.style.background = colors[Math.floor(Math.random() * colors.length)];
            trail.style.boxShadow = `0 0 10px ${trail.style.background}`;

            document.body.appendChild(trail);

            setTimeout(() => {
                trail.remove();
            }, 1000);
        }
    </script>
</body>

</html>
